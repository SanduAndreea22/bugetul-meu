{% extends "finance/base.html" %}
{% block title %}Recurente | Bugetul Meu{% endblock %}

{% block extra_style %}
<style>
.recurring-wrap {
    max-width: 1000px;
    margin: 0 auto;
}

.recurring-card {
    background: rgba(15,23,42,0.75);
    backdrop-filter: blur(16px);
    border-radius: 24px;
    padding: 36px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.45);
    border: 1px solid rgba(255,255,255,0.06);
}

.recurring-card h1 {
    font-size: 32px;
    font-weight: 900;
    margin-bottom: 24px;
}

.recurring-table {
    width: 100%;
    border-collapse: collapse;
}

.recurring-table th {
    text-align: left;
    font-size: 14px;
    color: #94a3b8;
    padding-bottom: 12px;
}

.recurring-table td {
    padding: 14px 0;
    border-top: 1px solid rgba(255,255,255,0.08);
}

.badge {
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 13px;
    font-weight: 700;
}

.income {
    background: rgba(34,197,94,0.15);
    color: #4ade80;
}

.expense {
    background: rgba(239,68,68,0.15);
    color: #f87171;
}

.actions a {
    margin-right: 10px;
    font-weight: 700;
    font-size: 14px;
}

.edit { color: #60a5fa; }
.delete { color: #f87171; }

.add-btn {
    display: inline-block;
    margin-top: 28px;
    background: linear-gradient(135deg, #2563eb, #6366f1);
    padding: 14px 28px;
    border-radius: 14px;
    font-weight: 800;
    color: white;
    box-shadow: 0 20px 50px rgba(37,99,235,0.45);
}
</style>
{% endblock %}

{% block content %}
<div class="recurring-wrap">

    <div class="recurring-card">
        <h1>üîÅ Tranzac»õii recurente</h1>

        {% if recurrings %}
        <table class="recurring-table">
            <thead>
                <tr>
                    <th>Tip</th>
                    <th>Categorie</th>
                    <th>Suma</th>
                    <th>Zi lunarƒÉ</th>
                    <th>Ac»õiuni</th>
                </tr>
            </thead>
            <tbody>
            {% for r in recurrings %}
                <tr>
                    <td>
                        <span class="badge {{ r.type }}">
                            {{ r.get_type_display }}
                        </span>
                    </td>
                    <td>{{ r.category }}</td>
                    <td>{{ r.amount }} RON</td>
                    <td>Ziua {{ r.day_of_month }}</td>
                    <td class="actions">
                        <a href="{% url 'finance:edit_recurring' r.id %}" class="edit">EditeazƒÉ</a>
                        <a href="{% url 'finance:delete_recurring' r.id %}" class="delete">»òterge</a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
        {% else %}
            <p style="color:#94a3b8;">Nu ai recurente definite.</p>
        {% endif %}

        <a href="{% url 'finance:add_recurring' %}" class="add-btn">
            + AdaugƒÉ recurent
        </a>
    </div>

</div>
{% endblock %}
